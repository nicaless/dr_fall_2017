{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 59,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "import pandas as pd\n",
    "import os"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 60,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "# Parse Drive Data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 61,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "# The data columns\n",
    "\n",
    "cols = {}\n",
    "cols_desc = {}\n",
    "with open('dataformat.txt') as f:\n",
    "    i = 0\n",
    "    for line in f:\n",
    "        c = line.splitlines()[0].split(\": \")[0]\n",
    "        d = \" \".join(line.splitlines()[0].split(\": \")[1:]).strip()\n",
    "        cols[i] = c\n",
    "        cols_desc[c] = d\n",
    "        i = i + 1"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 62,
   "metadata": {},
   "outputs": [],
   "source": [
    "# the actual data\n",
    "my_data = {}\n",
    "\n",
    "for file in os.listdir('data'):\n",
    "    filename = os.fsdecode(file)\n",
    "    entry = int(filename.split(\".\")[0])\n",
    "    \n",
    "    with open('data/' + filename) as f:\n",
    "        data = f.read().splitlines()[0]\n",
    "    \n",
    "    data = data.split(\" \")\n",
    "    my_data[entry] = data\n"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 63,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "df = pd.DataFrame.from_dict(my_data, orient='index')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 64,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "df = df.rename(columns=cols)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 65,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style>\n",
       "    .dataframe thead tr:only-child th {\n",
       "        text-align: right;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: left;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>lat</th>\n",
       "      <th>lon</th>\n",
       "      <th>alt</th>\n",
       "      <th>roll</th>\n",
       "      <th>pitch</th>\n",
       "      <th>yaw</th>\n",
       "      <th>vn</th>\n",
       "      <th>ve</th>\n",
       "      <th>vf</th>\n",
       "      <th>vl</th>\n",
       "      <th>...</th>\n",
       "      <th>wf</th>\n",
       "      <th>wl</th>\n",
       "      <th>wu</th>\n",
       "      <th>pos_accuracy</th>\n",
       "      <th>vel_accuracy</th>\n",
       "      <th>navstat</th>\n",
       "      <th>numsats</th>\n",
       "      <th>posmode</th>\n",
       "      <th>velmode</th>\n",
       "      <th>orimode</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>122</th>\n",
       "      <td>49.010890504628</td>\n",
       "      <td>8.4232964269759</td>\n",
       "      <td>112.61023712158</td>\n",
       "      <td>-0.020155</td>\n",
       "      <td>0.008304</td>\n",
       "      <td>-1.5760459803847</td>\n",
       "      <td>-5.6747551901418</td>\n",
       "      <td>0.041587778465408</td>\n",
       "      <td>5.6752470471541</td>\n",
       "      <td>-0.013961184450151</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.0031222306283122</td>\n",
       "      <td>0.0015042314290827</td>\n",
       "      <td>-0.17805225023154</td>\n",
       "      <td>0.31727748107926</td>\n",
       "      <td>0.060811183182043</td>\n",
       "      <td>4</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>136</th>\n",
       "      <td>49.010817474381</td>\n",
       "      <td>8.4232859446026</td>\n",
       "      <td>112.62936401367</td>\n",
       "      <td>0.04051</td>\n",
       "      <td>0.017863</td>\n",
       "      <td>-1.6630949803847</td>\n",
       "      <td>-5.8998102531752</td>\n",
       "      <td>-0.68594829379215</td>\n",
       "      <td>5.9386439032969</td>\n",
       "      <td>0.10564185163225</td>\n",
       "      <td>...</td>\n",
       "      <td>0.027664406848354</td>\n",
       "      <td>0.036794977648203</td>\n",
       "      <td>0.10005332252509</td>\n",
       "      <td>0.32323366161339</td>\n",
       "      <td>0.070007142492749</td>\n",
       "      <td>4</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>56</th>\n",
       "      <td>49.01108207141</td>\n",
       "      <td>8.4230601837027</td>\n",
       "      <td>112.90139007568</td>\n",
       "      <td>0.020711</td>\n",
       "      <td>0.007507</td>\n",
       "      <td>-0.4308066732051</td>\n",
       "      <td>-1.8975162190281</td>\n",
       "      <td>3.7202245618002</td>\n",
       "      <td>4.1741169777343</td>\n",
       "      <td>0.13716461090099</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.0063135433365486</td>\n",
       "      <td>0.001248876393998</td>\n",
       "      <td>0.13134174442847</td>\n",
       "      <td>0.434534233404</td>\n",
       "      <td>0.026907248094147</td>\n",
       "      <td>4</td>\n",
       "      <td>7</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>42</th>\n",
       "      <td>49.011108290541</td>\n",
       "      <td>8.422989340418</td>\n",
       "      <td>113.17789459229</td>\n",
       "      <td>0.036799</td>\n",
       "      <td>0.003077</td>\n",
       "      <td>-0.6798316732051</td>\n",
       "      <td>-2.79019980013</td>\n",
       "      <td>3.1340047690751</td>\n",
       "      <td>4.1934728488044</td>\n",
       "      <td>0.16050449817962</td>\n",
       "      <td>...</td>\n",
       "      <td>0.015955940020879</td>\n",
       "      <td>-0.040765715224034</td>\n",
       "      <td>0.16715742408514</td>\n",
       "      <td>0.45034431272083</td>\n",
       "      <td>0.034655446902327</td>\n",
       "      <td>4</td>\n",
       "      <td>7</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>95</th>\n",
       "      <td>49.011015792783</td>\n",
       "      <td>8.4232430361134</td>\n",
       "      <td>112.79699707031</td>\n",
       "      <td>0.003628</td>\n",
       "      <td>0.006701</td>\n",
       "      <td>-0.9780006732051</td>\n",
       "      <td>-3.7386559058799</td>\n",
       "      <td>2.6166356200717</td>\n",
       "      <td>4.5637035095766</td>\n",
       "      <td>-0.020321379221404</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.032477530541722</td>\n",
       "      <td>0.0098166151071228</td>\n",
       "      <td>-0.2374507476022</td>\n",
       "      <td>0.3106396626318</td>\n",
       "      <td>0.038897300677553</td>\n",
       "      <td>4</td>\n",
       "      <td>9</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows Ã— 30 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                 lat              lon              alt       roll     pitch  \\\n",
       "122  49.010890504628  8.4232964269759  112.61023712158  -0.020155  0.008304   \n",
       "136  49.010817474381  8.4232859446026  112.62936401367    0.04051  0.017863   \n",
       "56    49.01108207141  8.4230601837027  112.90139007568   0.020711  0.007507   \n",
       "42   49.011108290541   8.422989340418  113.17789459229   0.036799  0.003077   \n",
       "95   49.011015792783  8.4232430361134  112.79699707031   0.003628  0.006701   \n",
       "\n",
       "                  yaw                vn                 ve               vf  \\\n",
       "122  -1.5760459803847  -5.6747551901418  0.041587778465408  5.6752470471541   \n",
       "136  -1.6630949803847  -5.8998102531752  -0.68594829379215  5.9386439032969   \n",
       "56   -0.4308066732051  -1.8975162190281    3.7202245618002  4.1741169777343   \n",
       "42   -0.6798316732051    -2.79019980013    3.1340047690751  4.1934728488044   \n",
       "95   -0.9780006732051  -3.7386559058799    2.6166356200717  4.5637035095766   \n",
       "\n",
       "                     vl   ...                     wf                  wl  \\\n",
       "122  -0.013961184450151   ...    -0.0031222306283122  0.0015042314290827   \n",
       "136    0.10564185163225   ...      0.027664406848354   0.036794977648203   \n",
       "56     0.13716461090099   ...    -0.0063135433365486   0.001248876393998   \n",
       "42     0.16050449817962   ...      0.015955940020879  -0.040765715224034   \n",
       "95   -0.020321379221404   ...     -0.032477530541722  0.0098166151071228   \n",
       "\n",
       "                    wu      pos_accuracy       vel_accuracy navstat numsats  \\\n",
       "122  -0.17805225023154  0.31727748107926  0.060811183182043       4       5   \n",
       "136   0.10005332252509  0.32323366161339  0.070007142492749       4       5   \n",
       "56    0.13134174442847    0.434534233404  0.026907248094147       4       7   \n",
       "42    0.16715742408514  0.45034431272083  0.034655446902327       4       7   \n",
       "95    -0.2374507476022   0.3106396626318  0.038897300677553       4       9   \n",
       "\n",
       "    posmode velmode orimode  \n",
       "122       5       5       0  \n",
       "136       5       5       0  \n",
       "56        5       5       0  \n",
       "42        5       5       0  \n",
       "95        4       4       0  \n",
       "\n",
       "[5 rows x 30 columns]"
      ]
     },
     "execution_count": 65,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 66,
   "metadata": {},
   "outputs": [],
   "source": [
    "df['NegativeForwardAccel'] = df['af'].apply(lambda x: float(x) < 0)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 67,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style>\n",
       "    .dataframe thead tr:only-child th {\n",
       "        text-align: right;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: left;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>lat</th>\n",
       "      <th>lon</th>\n",
       "      <th>alt</th>\n",
       "      <th>roll</th>\n",
       "      <th>pitch</th>\n",
       "      <th>yaw</th>\n",
       "      <th>vn</th>\n",
       "      <th>ve</th>\n",
       "      <th>vf</th>\n",
       "      <th>vl</th>\n",
       "      <th>...</th>\n",
       "      <th>wl</th>\n",
       "      <th>wu</th>\n",
       "      <th>pos_accuracy</th>\n",
       "      <th>vel_accuracy</th>\n",
       "      <th>navstat</th>\n",
       "      <th>numsats</th>\n",
       "      <th>posmode</th>\n",
       "      <th>velmode</th>\n",
       "      <th>orimode</th>\n",
       "      <th>NegativeForwardAccel</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>122</th>\n",
       "      <td>49.010890504628</td>\n",
       "      <td>8.4232964269759</td>\n",
       "      <td>112.61023712158</td>\n",
       "      <td>-0.020155</td>\n",
       "      <td>0.008304</td>\n",
       "      <td>-1.5760459803847</td>\n",
       "      <td>-5.6747551901418</td>\n",
       "      <td>0.041587778465408</td>\n",
       "      <td>5.6752470471541</td>\n",
       "      <td>-0.013961184450151</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0015042314290827</td>\n",
       "      <td>-0.17805225023154</td>\n",
       "      <td>0.31727748107926</td>\n",
       "      <td>0.060811183182043</td>\n",
       "      <td>4</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>0</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>136</th>\n",
       "      <td>49.010817474381</td>\n",
       "      <td>8.4232859446026</td>\n",
       "      <td>112.62936401367</td>\n",
       "      <td>0.04051</td>\n",
       "      <td>0.017863</td>\n",
       "      <td>-1.6630949803847</td>\n",
       "      <td>-5.8998102531752</td>\n",
       "      <td>-0.68594829379215</td>\n",
       "      <td>5.9386439032969</td>\n",
       "      <td>0.10564185163225</td>\n",
       "      <td>...</td>\n",
       "      <td>0.036794977648203</td>\n",
       "      <td>0.10005332252509</td>\n",
       "      <td>0.32323366161339</td>\n",
       "      <td>0.070007142492749</td>\n",
       "      <td>4</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>0</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>56</th>\n",
       "      <td>49.01108207141</td>\n",
       "      <td>8.4230601837027</td>\n",
       "      <td>112.90139007568</td>\n",
       "      <td>0.020711</td>\n",
       "      <td>0.007507</td>\n",
       "      <td>-0.4308066732051</td>\n",
       "      <td>-1.8975162190281</td>\n",
       "      <td>3.7202245618002</td>\n",
       "      <td>4.1741169777343</td>\n",
       "      <td>0.13716461090099</td>\n",
       "      <td>...</td>\n",
       "      <td>0.001248876393998</td>\n",
       "      <td>0.13134174442847</td>\n",
       "      <td>0.434534233404</td>\n",
       "      <td>0.026907248094147</td>\n",
       "      <td>4</td>\n",
       "      <td>7</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>0</td>\n",
       "      <td>True</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>42</th>\n",
       "      <td>49.011108290541</td>\n",
       "      <td>8.422989340418</td>\n",
       "      <td>113.17789459229</td>\n",
       "      <td>0.036799</td>\n",
       "      <td>0.003077</td>\n",
       "      <td>-0.6798316732051</td>\n",
       "      <td>-2.79019980013</td>\n",
       "      <td>3.1340047690751</td>\n",
       "      <td>4.1934728488044</td>\n",
       "      <td>0.16050449817962</td>\n",
       "      <td>...</td>\n",
       "      <td>-0.040765715224034</td>\n",
       "      <td>0.16715742408514</td>\n",
       "      <td>0.45034431272083</td>\n",
       "      <td>0.034655446902327</td>\n",
       "      <td>4</td>\n",
       "      <td>7</td>\n",
       "      <td>5</td>\n",
       "      <td>5</td>\n",
       "      <td>0</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>95</th>\n",
       "      <td>49.011015792783</td>\n",
       "      <td>8.4232430361134</td>\n",
       "      <td>112.79699707031</td>\n",
       "      <td>0.003628</td>\n",
       "      <td>0.006701</td>\n",
       "      <td>-0.9780006732051</td>\n",
       "      <td>-3.7386559058799</td>\n",
       "      <td>2.6166356200717</td>\n",
       "      <td>4.5637035095766</td>\n",
       "      <td>-0.020321379221404</td>\n",
       "      <td>...</td>\n",
       "      <td>0.0098166151071228</td>\n",
       "      <td>-0.2374507476022</td>\n",
       "      <td>0.3106396626318</td>\n",
       "      <td>0.038897300677553</td>\n",
       "      <td>4</td>\n",
       "      <td>9</td>\n",
       "      <td>4</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "      <td>False</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows Ã— 31 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "                 lat              lon              alt       roll     pitch  \\\n",
       "122  49.010890504628  8.4232964269759  112.61023712158  -0.020155  0.008304   \n",
       "136  49.010817474381  8.4232859446026  112.62936401367    0.04051  0.017863   \n",
       "56    49.01108207141  8.4230601837027  112.90139007568   0.020711  0.007507   \n",
       "42   49.011108290541   8.422989340418  113.17789459229   0.036799  0.003077   \n",
       "95   49.011015792783  8.4232430361134  112.79699707031   0.003628  0.006701   \n",
       "\n",
       "                  yaw                vn                 ve               vf  \\\n",
       "122  -1.5760459803847  -5.6747551901418  0.041587778465408  5.6752470471541   \n",
       "136  -1.6630949803847  -5.8998102531752  -0.68594829379215  5.9386439032969   \n",
       "56   -0.4308066732051  -1.8975162190281    3.7202245618002  4.1741169777343   \n",
       "42   -0.6798316732051    -2.79019980013    3.1340047690751  4.1934728488044   \n",
       "95   -0.9780006732051  -3.7386559058799    2.6166356200717  4.5637035095766   \n",
       "\n",
       "                     vl         ...                           wl  \\\n",
       "122  -0.013961184450151         ...           0.0015042314290827   \n",
       "136    0.10564185163225         ...            0.036794977648203   \n",
       "56     0.13716461090099         ...            0.001248876393998   \n",
       "42     0.16050449817962         ...           -0.040765715224034   \n",
       "95   -0.020321379221404         ...           0.0098166151071228   \n",
       "\n",
       "                    wu      pos_accuracy       vel_accuracy navstat numsats  \\\n",
       "122  -0.17805225023154  0.31727748107926  0.060811183182043       4       5   \n",
       "136   0.10005332252509  0.32323366161339  0.070007142492749       4       5   \n",
       "56    0.13134174442847    0.434534233404  0.026907248094147       4       7   \n",
       "42    0.16715742408514  0.45034431272083  0.034655446902327       4       7   \n",
       "95    -0.2374507476022   0.3106396626318  0.038897300677553       4       9   \n",
       "\n",
       "    posmode velmode orimode NegativeForwardAccel  \n",
       "122       5       5       0                False  \n",
       "136       5       5       0                False  \n",
       "56        5       5       0                 True  \n",
       "42        5       5       0                False  \n",
       "95        4       4       0                False  \n",
       "\n",
       "[5 rows x 31 columns]"
      ]
     },
     "execution_count": 67,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "df.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Parse Tracklet Labels"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 68,
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "['static', 'Van', '161.77', '296.8', '292.43', '455.33']\n"
     ]
    }
   ],
   "source": [
    "with open(\"KITTI_MOD/testing/boxes/2011_09_26_drive_0005_sync_0000000000.txt\") as f:\n",
    "    print(f.read().split())"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 69,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "153"
      ]
     },
     "execution_count": 69,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "countfiles = 0\n",
    "frame = []\n",
    "static_dynamic = []\n",
    "object_type = []\n",
    "x1 = []\n",
    "y1 = []\n",
    "x2 = []\n",
    "y2 = []\n",
    "for filename in os.listdir(\"KITTI_MOD/testing/boxes/\"):\n",
    "    if filename.startswith(\"2011_09_26_drive_0005_sync_\"):\n",
    "        countfiles += 1\n",
    "        #with open(\"KITTI_MOD/testing/boxes/2011_09_26_drive_0005_sync_0000000000.txt\") as f:\n",
    "        with open(\"KITTI_MOD/testing/boxes/\" + filename) as f:\n",
    "            filename_split = filename.split(\"_\")\n",
    "            for line in f:\n",
    "                frame.append(int(filename_split[len(filename_split)-1].split(\".txt\")[0]))\n",
    "                data = line.split()\n",
    "                static_dynamic.append(data[0])\n",
    "                object_type.append(data[1])\n",
    "                x1.append(data[2])\n",
    "                y1.append(data[3])\n",
    "                x2.append(data[4])\n",
    "                y2.append(data[5])\n",
    "        \n",
    "countfiles"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 77,
   "metadata": {},
   "outputs": [],
   "source": [
    "tracklet_df = pd.DataFrame.from_dict({'frame':frame, \n",
    "                            'static_dynamic':static_dynamic, \n",
    "                            'object_type':object_type, \n",
    "                            'x1':x1, \n",
    "                            'y1':y1, \n",
    "                            'x2': x2,\n",
    "                            'y2': y2}, \n",
    "                           orient='columns')"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 79,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style>\n",
       "    .dataframe thead tr:only-child th {\n",
       "        text-align: right;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: left;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>frame</th>\n",
       "      <th>object_type</th>\n",
       "      <th>static_dynamic</th>\n",
       "      <th>x1</th>\n",
       "      <th>x2</th>\n",
       "      <th>y1</th>\n",
       "      <th>y2</th>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>frame</th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "      <th></th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>100</th>\n",
       "      <td>100</td>\n",
       "      <td>Van</td>\n",
       "      <td>static</td>\n",
       "      <td>173.32</td>\n",
       "      <td>225.56</td>\n",
       "      <td>878.81</td>\n",
       "      <td>930.39</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>100</th>\n",
       "      <td>100</td>\n",
       "      <td>Van</td>\n",
       "      <td>static</td>\n",
       "      <td>88.04</td>\n",
       "      <td>375.0</td>\n",
       "      <td>973.47</td>\n",
       "      <td>1242.0</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>114</th>\n",
       "      <td>114</td>\n",
       "      <td>Van</td>\n",
       "      <td>dynamic</td>\n",
       "      <td>172.1</td>\n",
       "      <td>215.71</td>\n",
       "      <td>653.99</td>\n",
       "      <td>698.06</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>114</th>\n",
       "      <td>114</td>\n",
       "      <td>Car</td>\n",
       "      <td>static</td>\n",
       "      <td>175.08</td>\n",
       "      <td>286.96</td>\n",
       "      <td>0.0</td>\n",
       "      <td>237.35</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>114</th>\n",
       "      <td>114</td>\n",
       "      <td>Car</td>\n",
       "      <td>static</td>\n",
       "      <td>184.19</td>\n",
       "      <td>247.51</td>\n",
       "      <td>823.37</td>\n",
       "      <td>933.66</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "</div>"
      ],
      "text/plain": [
       "       frame object_type static_dynamic      x1      x2      y1      y2\n",
       "frame                                                                  \n",
       "100      100         Van         static  173.32  225.56  878.81  930.39\n",
       "100      100         Van         static   88.04   375.0  973.47  1242.0\n",
       "114      114         Van        dynamic   172.1  215.71  653.99  698.06\n",
       "114      114         Car         static  175.08  286.96     0.0  237.35\n",
       "114      114         Car         static  184.19  247.51  823.37  933.66"
      ]
     },
     "execution_count": 79,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "tracklet_df = tracklet_df.set_index(tracklet_df['frame'])\n",
    "tracklet_df.head()"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# Merge Data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 80,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": [
    "final_df = pd.merge(df, tracklet_df, how='outer', left_index=True, right_index=True)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 81,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<div>\n",
       "<style>\n",
       "    .dataframe thead tr:only-child th {\n",
       "        text-align: right;\n",
       "    }\n",
       "\n",
       "    .dataframe thead th {\n",
       "        text-align: left;\n",
       "    }\n",
       "\n",
       "    .dataframe tbody tr th {\n",
       "        vertical-align: top;\n",
       "    }\n",
       "</style>\n",
       "<table border=\"1\" class=\"dataframe\">\n",
       "  <thead>\n",
       "    <tr style=\"text-align: right;\">\n",
       "      <th></th>\n",
       "      <th>lat</th>\n",
       "      <th>lon</th>\n",
       "      <th>alt</th>\n",
       "      <th>roll</th>\n",
       "      <th>pitch</th>\n",
       "      <th>yaw</th>\n",
       "      <th>vn</th>\n",
       "      <th>ve</th>\n",
       "      <th>vf</th>\n",
       "      <th>vl</th>\n",
       "      <th>...</th>\n",
       "      <th>velmode</th>\n",
       "      <th>orimode</th>\n",
       "      <th>NegativeForwardAccel</th>\n",
       "      <th>frame</th>\n",
       "      <th>object_type</th>\n",
       "      <th>static_dynamic</th>\n",
       "      <th>x1</th>\n",
       "      <th>x2</th>\n",
       "      <th>y1</th>\n",
       "      <th>y2</th>\n",
       "    </tr>\n",
       "  </thead>\n",
       "  <tbody>\n",
       "    <tr>\n",
       "      <th>0</th>\n",
       "      <td>49.011212804408</td>\n",
       "      <td>8.4228850417969</td>\n",
       "      <td>112.83492279053</td>\n",
       "      <td>0.022447</td>\n",
       "      <td>1e-05</td>\n",
       "      <td>-1.2219096732051</td>\n",
       "      <td>-3.3256321640686</td>\n",
       "      <td>1.1384311814592</td>\n",
       "      <td>3.5147680214713</td>\n",
       "      <td>0.037625160413037</td>\n",
       "      <td>...</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "      <td>True</td>\n",
       "      <td>0.0</td>\n",
       "      <td>Van</td>\n",
       "      <td>static</td>\n",
       "      <td>161.77</td>\n",
       "      <td>292.43</td>\n",
       "      <td>296.8</td>\n",
       "      <td>455.33</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>1</th>\n",
       "      <td>49.01120997371</td>\n",
       "      <td>8.4228865746799</td>\n",
       "      <td>112.84690093994</td>\n",
       "      <td>0.022857</td>\n",
       "      <td>0.004342</td>\n",
       "      <td>-1.2060766732051</td>\n",
       "      <td>-3.2881070007181</td>\n",
       "      <td>1.1667449071211</td>\n",
       "      <td>3.488638681917</td>\n",
       "      <td>0.054703935610776</td>\n",
       "      <td>...</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "      <td>True</td>\n",
       "      <td>1.0</td>\n",
       "      <td>Van</td>\n",
       "      <td>static</td>\n",
       "      <td>156.04</td>\n",
       "      <td>284.67</td>\n",
       "      <td>294.95</td>\n",
       "      <td>452.3</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>2</th>\n",
       "      <td>49.011207340729</td>\n",
       "      <td>8.4228879062526</td>\n",
       "      <td>112.86553955078</td>\n",
       "      <td>0.023136</td>\n",
       "      <td>0.014862</td>\n",
       "      <td>-1.1936236732051</td>\n",
       "      <td>-3.2411567408588</td>\n",
       "      <td>1.2346955705869</td>\n",
       "      <td>3.468542331508</td>\n",
       "      <td>0.020905692383421</td>\n",
       "      <td>...</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "      <td>True</td>\n",
       "      <td>2.0</td>\n",
       "      <td>Van</td>\n",
       "      <td>static</td>\n",
       "      <td>150.49</td>\n",
       "      <td>277.15</td>\n",
       "      <td>293.15</td>\n",
       "      <td>449.36</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>3</th>\n",
       "      <td>49.011204563603</td>\n",
       "      <td>8.4228891287559</td>\n",
       "      <td>112.89084625244</td>\n",
       "      <td>0.019954</td>\n",
       "      <td>0.02287</td>\n",
       "      <td>-1.1811786732051</td>\n",
       "      <td>-3.1707112893639</td>\n",
       "      <td>1.2505615132641</td>\n",
       "      <td>3.4084346668386</td>\n",
       "      <td>0.022682378739715</td>\n",
       "      <td>...</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "      <td>True</td>\n",
       "      <td>3.0</td>\n",
       "      <td>Van</td>\n",
       "      <td>static</td>\n",
       "      <td>145.1</td>\n",
       "      <td>269.86</td>\n",
       "      <td>291.38</td>\n",
       "      <td>446.5</td>\n",
       "    </tr>\n",
       "    <tr>\n",
       "      <th>4</th>\n",
       "      <td>49.011201584883</td>\n",
       "      <td>8.4228904357119</td>\n",
       "      <td>112.91399383545</td>\n",
       "      <td>0.019708</td>\n",
       "      <td>0.023251</td>\n",
       "      <td>-1.1672206732051</td>\n",
       "      <td>-3.1034484210389</td>\n",
       "      <td>1.25049131815</td>\n",
       "      <td>3.3456442106379</td>\n",
       "      <td>0.044487156707287</td>\n",
       "      <td>...</td>\n",
       "      <td>4</td>\n",
       "      <td>0</td>\n",
       "      <td>True</td>\n",
       "      <td>4.0</td>\n",
       "      <td>Van</td>\n",
       "      <td>static</td>\n",
       "      <td>146.66</td>\n",
       "      <td>269.52</td>\n",
       "      <td>290.34</td>\n",
       "      <td>444.48</td>\n",
       "    </tr>\n",
       "  </tbody>\n",
       "</table>\n",
       "<p>5 rows Ã— 38 columns</p>\n",
       "</div>"
      ],
      "text/plain": [
       "               lat              lon              alt      roll     pitch  \\\n",
       "0  49.011212804408  8.4228850417969  112.83492279053  0.022447     1e-05   \n",
       "1   49.01120997371  8.4228865746799  112.84690093994  0.022857  0.004342   \n",
       "2  49.011207340729  8.4228879062526  112.86553955078  0.023136  0.014862   \n",
       "3  49.011204563603  8.4228891287559  112.89084625244  0.019954   0.02287   \n",
       "4  49.011201584883  8.4228904357119  112.91399383545  0.019708  0.023251   \n",
       "\n",
       "                yaw                vn               ve               vf  \\\n",
       "0  -1.2219096732051  -3.3256321640686  1.1384311814592  3.5147680214713   \n",
       "1  -1.2060766732051  -3.2881070007181  1.1667449071211   3.488638681917   \n",
       "2  -1.1936236732051  -3.2411567408588  1.2346955705869   3.468542331508   \n",
       "3  -1.1811786732051  -3.1707112893639  1.2505615132641  3.4084346668386   \n",
       "4  -1.1672206732051  -3.1034484210389    1.25049131815  3.3456442106379   \n",
       "\n",
       "                  vl   ...   velmode orimode NegativeForwardAccel frame  \\\n",
       "0  0.037625160413037   ...         4       0                 True   0.0   \n",
       "1  0.054703935610776   ...         4       0                 True   1.0   \n",
       "2  0.020905692383421   ...         4       0                 True   2.0   \n",
       "3  0.022682378739715   ...         4       0                 True   3.0   \n",
       "4  0.044487156707287   ...         4       0                 True   4.0   \n",
       "\n",
       "  object_type static_dynamic      x1      x2      y1      y2  \n",
       "0         Van         static  161.77  292.43   296.8  455.33  \n",
       "1         Van         static  156.04  284.67  294.95   452.3  \n",
       "2         Van         static  150.49  277.15  293.15  449.36  \n",
       "3         Van         static   145.1  269.86  291.38   446.5  \n",
       "4         Van         static  146.66  269.52  290.34  444.48  \n",
       "\n",
       "[5 rows x 38 columns]"
      ]
     },
     "execution_count": 81,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "final_df.head()"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "metadata": {
    "collapsed": true
   },
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.6.1"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
